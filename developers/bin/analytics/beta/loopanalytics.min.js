!function(e){"use strict";function n(){return console.log("LoopAnalytics loaded"),{Init:function(e){if(this.getInitialized())return void console.info("LoopAnalytics.init has already been called - this could indicate a problem");null!==e.accessCode&&this.setClientID(e.accessCode),e.trackerName&&"string"==typeof e.trackerName&&this.setClientTrackerName(e.trackerName),e.encoding&&"string"==typeof e.encoding&&this.setEncode(e.encoding);var n={accessCode:e.accessCode,trackerName:e.trackerName,viewportSize:this.getViewPortSize(),screenResolution:this.getScreenResolution(),encoding:e.encoding,screenColors:this.getScreenColorDepth(),language:this.getLanguage(),deviceID:this.getDeviceID(),deviceName:this.getDeviceName(),deviceModel:this.getDeviceModel(),deviceBrand:this.getDeviceBrand(),osName:this.getOperatingSystem(),osVersion:this.getOperatingSystemVersion(),appName:this.getAppName(),appID:this.getAppID(),appVersion:this.getAppVersion()},t=new XMLHttpRequest;if(t.open("POST","http://localhost:3001/analytics/1.0/create",!1),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify(n)),200===t.status&&"OK"===t.statusText){var i=JSON.parse(t.response);this.setSessionID(i.SessionID)}},getInitialized:function(){return!!Cookies.get("LoopAnalytics_Session")},setClientID:function(e){Cookies.set("LoopAnalytics_accessCode",e)},setClientTrackerName:function(e){Cookies.set("LoopAnalytics_trackerName",e)},setEncode:function(e){Cookies.set("LoopAnalytics_encode",e)},setSessionID:function(e){Cookies.set("LoopAnalytics_Session",e)},getSessionID:function(){return Cookies.get("LoopAnalytics_Session")?Cookies.get("LoopAnalytics_Session"):null},getViewPortSize:function(){var n,t;return"undefined"!=typeof e.innerWidth?(n=e.innerWidth,t=e.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(n=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(n=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),n+"x"+t},getScreenResolution:function(){var n,t;return"undefined"!=typeof e.screen.availHeight&&(t=e.screen.availWidth,n=e.screen.availHeight),t+"x"+n},getScreenColorDepth:function(){return"undefined"!=typeof e.screen.colorDepth?e.screen.colorDepth+"-bits":void 0},getLanguage:function(){var e=navigator.language||navigator.userLanguage;return e},getOperatingSystem:function(){var e=navigator.userAgent,n=t,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in i){var r=i[o];if(r.r.test(e)){n=r.s;break}}return n},getOperatingSystemVersion:function(){var e=navigator.userAgent,n=navigator.appVersion,i=this.getOperatingSystem(),o=t;switch(i){case"Mac OS X":o=/Mac OS X (10[\.\_\d]+)/.exec(e)[1],console.log("osVersion: ",o);break;case"Android":o=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":o=/OS (\d+)_(\d+)_?(\d+)?/.exec(n),o=o[1]+"."+o[2]+"."+(0|o[3])}return o},getDeviceID:function(){return i.any()?void 0:o.NumberString(8)},getDeviceName:function(){return i.any()?void 0:navigator.platform},getDeviceModel:function(){return i.any()?void 0:this.getOperatingSystem()+" "+this.getOperatingSystemVersion()},getDeviceBrand:function(){return i.any()?void 0:this.getOperatingSystem()},getAppID:function(){return navigator.productSub+"-"+o.NumberString(8)},getAppName:function(){return navigator.appName},getAppVersion:function(){return navigator.appVersion}}}var t="-",i={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return i.Android()||i.BlackBerry()||i.iOS()||i.Opera()||i.Windows()}},o={String:function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;e>i;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},NumberString:function(e){for(var n="",t="0123456789",i=0;e>i;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}};"function"==typeof n?e.LoopAnalytics=new n:e.LoopAnalytics?"object"==typeof exports?module.exports=n:console.log("LoopAnalytics already defined."):e.LoopAnalytics=new n}(window),function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=n,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}function n(t){function i(n,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},i.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(c){}return o=t.write?t.write(o,n):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",o,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}n||(s={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,g=0;g<d.length;g++){var p=d[g].split("="),l=p[0].replace(u,decodeURIComponent),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=t.read?t.read(f,l):t(f,l)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(c){}if(n===l){s=f;break}n||(s[l]=f)}catch(c){}}return s}}return i.get=i.set=i,i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(n,t){i(n,"",e(t,{expires:-1}))},i.withConverter=n,i}return n(function(){})});
//# sourceMappingURL=loopanalytics.min.js.map
